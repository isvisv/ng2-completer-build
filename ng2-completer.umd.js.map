{"version":3,"file":"ng2-completer.umd.js","sources":["globals.js","services/completer-data-factory.js","directives/ctr-completer.js","services/completer-base-data.js","services/local-data.js","services/remote-data.js","services/completer-service.js","components/completer-cmp.js","components/completer-list-item-cmp.js","directives/ctr-dropdown.js","directives/ctr-input.js","directives/ctr-list.js","directives/ctr-row.js","ng2-completer.module.js"],"sourcesContent":["export var MAX_CHARS = 524288; // the default max length per the html maxlength attribute\r\nexport var MIN_SEARCH_LENGTH = 3;\r\nexport var PAUSE = 10;\r\nexport var TEXT_SEARCHING = \"Searching...\";\r\nexport var TEXT_NO_RESULTS = \"No results found\";\r\nexport var CLEAR_TIMEOUT = 50;\r\nexport function isNil(value) {\r\n    return typeof value === \"undefined\" || value === null;\r\n}\r\n//# sourceMappingURL=globals.js.map","import { Http } from \"@angular/http\";\r\nimport { LocalData } from \"./local-data\";\r\nimport { RemoteData } from \"./remote-data\";\r\nexport function localDataFactory() {\r\n    return function () {\r\n        return new LocalData();\r\n    };\r\n}\r\nexport function remoteDataFactory(http) {\r\n    return function () {\r\n        return new RemoteData(http);\r\n    };\r\n}\r\nexport var LocalDataFactoryProvider = { provide: LocalData, useFactory: localDataFactory };\r\nexport var RemoteDataFactoryProvider = { provide: RemoteData, useFactory: remoteDataFactory, deps: [Http] };\r\n//# sourceMappingURL=completer-data-factory.js.map","import { Directive, EventEmitter, Output } from \"@angular/core\";\r\nvar CtrCompleter = /** @class */ (function () {\r\n    function CtrCompleter() {\r\n        this.selected = new EventEmitter();\r\n        this.highlighted = new EventEmitter();\r\n        this.opened = new EventEmitter();\r\n        this.dataSourceChange = new EventEmitter();\r\n        this._hasHighlighted = false;\r\n        this._hasSelected = false;\r\n        this._cancelBlur = false;\r\n        this._isOpen = false;\r\n    }\r\n    CtrCompleter.prototype.registerList = function (list) {\r\n        this.list = list;\r\n    };\r\n    CtrCompleter.prototype.registerDropdown = function (dropdown) {\r\n        this.dropdown = dropdown;\r\n    };\r\n    CtrCompleter.prototype.onHighlighted = function (item) {\r\n        this.highlighted.emit(item);\r\n        this._hasHighlighted = !!item;\r\n    };\r\n    CtrCompleter.prototype.onSelected = function (item, clearList) {\r\n        if (clearList === void 0) { clearList = true; }\r\n        this.selected.emit(item);\r\n        if (item) {\r\n            this._hasSelected = true;\r\n        }\r\n        if (clearList) {\r\n            this.clear();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.onDataSourceChange = function () {\r\n        if (this.hasSelected) {\r\n            this.selected.emit(null);\r\n            this._hasSelected = false;\r\n        }\r\n        this.dataSourceChange.emit();\r\n    };\r\n    CtrCompleter.prototype.search = function (term) {\r\n        if (this._hasSelected) {\r\n            this.selected.emit(null);\r\n            this._hasSelected = false;\r\n        }\r\n        if (this.list) {\r\n            this.list.search(term);\r\n        }\r\n    };\r\n    CtrCompleter.prototype.clear = function () {\r\n        this._hasHighlighted = false;\r\n        this.isOpen = false;\r\n        if (this.dropdown) {\r\n            this.dropdown.clear();\r\n        }\r\n        if (this.list) {\r\n            this.list.clear();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.selectCurrent = function () {\r\n        if (this.dropdown) {\r\n            this.dropdown.selectCurrent();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.nextRow = function () {\r\n        if (this.dropdown) {\r\n            this.dropdown.nextRow();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.prevRow = function () {\r\n        if (this.dropdown) {\r\n            this.dropdown.prevRow();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.hasHighlighted = function () {\r\n        return this._hasHighlighted;\r\n    };\r\n    CtrCompleter.prototype.cancelBlur = function (cancel) {\r\n        this._cancelBlur = cancel;\r\n    };\r\n    CtrCompleter.prototype.isCancelBlur = function () {\r\n        return this._cancelBlur;\r\n    };\r\n    CtrCompleter.prototype.open = function () {\r\n        if (!this._isOpen) {\r\n            this.isOpen = true;\r\n            this.list.open();\r\n        }\r\n    };\r\n    Object.defineProperty(CtrCompleter.prototype, \"isOpen\", {\r\n        get: function () {\r\n            return this._isOpen;\r\n        },\r\n        set: function (open) {\r\n            this._isOpen = open;\r\n            this.opened.emit(this._isOpen);\r\n            if (this.list) {\r\n                this.list.isOpen(open);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrCompleter.prototype, \"autoHighlightIndex\", {\r\n        get: function () {\r\n            return this._autoHighlightIndex;\r\n        },\r\n        set: function (index) {\r\n            this._autoHighlightIndex = index;\r\n            if (this.dropdown) {\r\n                this.dropdown.highlightRow(this._autoHighlightIndex);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrCompleter.prototype, \"hasSelected\", {\r\n        get: function () {\r\n            return this._hasSelected;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrCompleter.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrCompleter]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrCompleter.ctorParameters = function () { return []; };\r\n    CtrCompleter.propDecorators = {\r\n        \"selected\": [{ type: Output },],\r\n        \"highlighted\": [{ type: Output },],\r\n        \"opened\": [{ type: Output },],\r\n        \"dataSourceChange\": [{ type: Output },],\r\n    };\r\n    return CtrCompleter;\r\n}());\r\nexport { CtrCompleter };\r\n//# sourceMappingURL=ctr-completer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport { isNil } from \"../globals\";\r\nvar CompleterBaseData = /** @class */ (function (_super) {\r\n    __extends(CompleterBaseData, _super);\r\n    function CompleterBaseData() {\r\n        return _super.call(this) || this;\r\n    }\r\n    CompleterBaseData.prototype.cancel = function () { };\r\n    CompleterBaseData.prototype.searchFields = function (searchFields) {\r\n        this._searchFields = searchFields;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.titleField = function (titleField) {\r\n        this._titleField = titleField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.descriptionField = function (descriptionField) {\r\n        this._descriptionField = descriptionField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.imageField = function (imageField) {\r\n        this._imageField = imageField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.convertToItem = function (data) {\r\n        var image = null;\r\n        var formattedText;\r\n        var formattedDesc = null;\r\n        if (this._titleField) {\r\n            formattedText = this.extractTitle(data);\r\n        }\r\n        else {\r\n            formattedText = data;\r\n        }\r\n        if (typeof formattedText !== \"string\") {\r\n            formattedText = JSON.stringify(formattedText);\r\n        }\r\n        if (this._descriptionField) {\r\n            formattedDesc = this.extractValue(data, this._descriptionField);\r\n        }\r\n        if (this._imageField) {\r\n            image = this.extractValue(data, this._imageField);\r\n        }\r\n        if (isNil(formattedText)) {\r\n            return null;\r\n        }\r\n        return {\r\n            title: formattedText,\r\n            description: formattedDesc,\r\n            image: image,\r\n            originalObject: data\r\n        };\r\n    };\r\n    CompleterBaseData.prototype.extractMatches = function (data, term) {\r\n        var _this = this;\r\n        var matches = [];\r\n        var searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\r\n        if (this._searchFields !== null && this._searchFields !== undefined && term != \"\") {\r\n            matches = data.filter(function (item) {\r\n                var values = searchFields ? searchFields.map(function (searchField) { return _this.extractValue(item, searchField); }).filter(function (value) { return !!value; }) : [item];\r\n                return values.some(function (value) { return value.toString().toLowerCase().indexOf(term.toString().toLowerCase()) >= 0; });\r\n            });\r\n        }\r\n        else {\r\n            matches = data;\r\n        }\r\n        return matches;\r\n    };\r\n    CompleterBaseData.prototype.extractTitle = function (item) {\r\n        var _this = this;\r\n        // split title fields and run extractValue for each and join with ' '\r\n        return this._titleField.split(\",\")\r\n            .map(function (field) {\r\n            return _this.extractValue(item, field);\r\n        })\r\n            .reduce(function (acc, titlePart) { return acc ? acc + \" \" + titlePart : titlePart; });\r\n    };\r\n    CompleterBaseData.prototype.extractValue = function (obj, key) {\r\n        var keys;\r\n        var result;\r\n        if (key) {\r\n            keys = key.split(\".\");\r\n            result = obj;\r\n            for (var i = 0; i < keys.length; i++) {\r\n                if (result) {\r\n                    result = result[keys[i]];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            result = obj;\r\n        }\r\n        return result;\r\n    };\r\n    CompleterBaseData.prototype.processResults = function (matches) {\r\n        var i;\r\n        var results = [];\r\n        if (matches && matches.length > 0) {\r\n            for (i = 0; i < matches.length; i++) {\r\n                var item = this.convertToItem(matches[i]);\r\n                if (item) {\r\n                    results.push(item);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    };\r\n    return CompleterBaseData;\r\n}(Subject));\r\nexport { CompleterBaseData };\r\n//# sourceMappingURL=completer-base-data.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable, EventEmitter } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport { CompleterBaseData } from \"./completer-base-data\";\r\nvar LocalData = /** @class */ (function (_super) {\r\n    __extends(LocalData, _super);\r\n    function LocalData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.dataSourceChange = new EventEmitter();\r\n        return _this;\r\n    }\r\n    LocalData.prototype.data = function (data) {\r\n        var _this = this;\r\n        if (data instanceof Observable) {\r\n            var data$ = data;\r\n            data$\r\n                .catch(function () { return []; })\r\n                .subscribe(function (res) {\r\n                _this._data = res;\r\n                if (_this.savedTerm) {\r\n                    _this.search(_this.savedTerm);\r\n                }\r\n                _this.dataSourceChange.emit();\r\n            });\r\n        }\r\n        else {\r\n            this._data = data;\r\n        }\r\n        this.dataSourceChange.emit();\r\n        return this;\r\n    };\r\n    LocalData.prototype.search = function (term) {\r\n        if (!this._data) {\r\n            this.savedTerm = term;\r\n        }\r\n        else {\r\n            this.savedTerm = null;\r\n            var matches = this.extractMatches(this._data, term);\r\n            this.next(this.processResults(matches));\r\n        }\r\n    };\r\n    LocalData.prototype.convertToItem = function (data) {\r\n        return _super.prototype.convertToItem.call(this, data);\r\n    };\r\n    LocalData.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    LocalData.ctorParameters = function () { return []; };\r\n    return LocalData;\r\n}(CompleterBaseData));\r\nexport { LocalData };\r\n//# sourceMappingURL=local-data.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EventEmitter } from \"@angular/core\";\r\nimport { Headers, RequestOptions } from \"@angular/http\";\r\nimport \"rxjs/add/operator/map\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport { CompleterBaseData } from \"./completer-base-data\";\r\nvar RemoteData = /** @class */ (function (_super) {\r\n    __extends(RemoteData, _super);\r\n    function RemoteData(http) {\r\n        var _this = _super.call(this) || this;\r\n        _this.http = http;\r\n        _this.dataSourceChange = new EventEmitter();\r\n        _this._urlFormater = null;\r\n        _this._dataField = null;\r\n        return _this;\r\n    }\r\n    RemoteData.prototype.remoteUrl = function (remoteUrl) {\r\n        this._remoteUrl = remoteUrl;\r\n        this.dataSourceChange.emit();\r\n        return this;\r\n    };\r\n    RemoteData.prototype.urlFormater = function (urlFormater) {\r\n        this._urlFormater = urlFormater;\r\n    };\r\n    RemoteData.prototype.dataField = function (dataField) {\r\n        this._dataField = dataField;\r\n    };\r\n    /**\r\n     * @deprecated Please use the requestOptions to pass headers with the search request\r\n     */\r\n    /**\r\n         * @deprecated Please use the requestOptions to pass headers with the search request\r\n         */\r\n    RemoteData.prototype.headers = /**\r\n         * @deprecated Please use the requestOptions to pass headers with the search request\r\n         */\r\n    function (headers) {\r\n        this._headers = headers;\r\n    };\r\n    RemoteData.prototype.requestOptions = function (requestOptions) {\r\n        this._requestOptions = requestOptions;\r\n    };\r\n    RemoteData.prototype.search = function (term) {\r\n        var _this = this;\r\n        this.cancel();\r\n        // let params = {};\r\n        var url = \"\";\r\n        if (this._urlFormater) {\r\n            url = this._urlFormater(term);\r\n        }\r\n        else {\r\n            url = this._remoteUrl + encodeURIComponent(term);\r\n        }\r\n        /*\r\n                 * If requestOptions are provided, they will override anything set in headers.\r\n                 *\r\n                 * If no requestOptions are provided, a new RequestOptions object will be instantiated,\r\n                 * and either the provided headers or a new Headers() object will be sent.\r\n                 */\r\n        if (!this._requestOptions) {\r\n            this._requestOptions = new RequestOptions();\r\n            this._requestOptions.headers = this._headers || new Headers();\r\n        }\r\n        this.remoteSearch = this.http.get(url, this._requestOptions.merge())\r\n            .map(function (res) { return res.json(); })\r\n            .map(function (data) {\r\n            var matches = _this.extractValue(data, _this._dataField);\r\n            return _this.extractMatches(matches, term);\r\n        })\r\n            .catch(function () { return []; })\r\n            .subscribe(function (matches) {\r\n            var results = _this.processResults(matches);\r\n            _this.next(results);\r\n        });\r\n    };\r\n    RemoteData.prototype.cancel = function () {\r\n        if (this.remoteSearch) {\r\n            this.remoteSearch.unsubscribe();\r\n        }\r\n    };\r\n    RemoteData.prototype.convertToItem = function (data) {\r\n        return _super.prototype.convertToItem.call(this, data);\r\n    };\r\n    return RemoteData;\r\n}(CompleterBaseData));\r\nexport { RemoteData };\r\n//# sourceMappingURL=remote-data.js.map","import { Injectable, Inject } from \"@angular/core\";\r\nimport { LocalData } from \"./local-data\";\r\nimport { RemoteData } from \"./remote-data\";\r\nvar CompleterService = /** @class */ (function () {\r\n    function CompleterService(localDataFactory, \r\n    // Using any instead of () => LocalData because on AoT errors\r\n    remoteDataFactory // Using any instead of () => LocalData because on AoT errors\r\n    ) {\r\n        this.localDataFactory = localDataFactory;\r\n        this.remoteDataFactory = remoteDataFactory;\r\n    }\r\n    CompleterService.prototype.local = function (data, searchFields, titleField) {\r\n        if (searchFields === void 0) { searchFields = \"\"; }\r\n        if (titleField === void 0) { titleField = \"\"; }\r\n        var localData = this.localDataFactory();\r\n        return localData\r\n            .data(data)\r\n            .searchFields(searchFields)\r\n            .titleField(titleField);\r\n    };\r\n    CompleterService.prototype.remote = function (url, searchFields, titleField) {\r\n        if (searchFields === void 0) { searchFields = \"\"; }\r\n        if (titleField === void 0) { titleField = \"\"; }\r\n        var remoteData = this.remoteDataFactory();\r\n        return remoteData\r\n            .remoteUrl(url)\r\n            .searchFields(searchFields)\r\n            .titleField(titleField);\r\n    };\r\n    CompleterService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    CompleterService.ctorParameters = function () { return [\r\n        { type: undefined, decorators: [{ type: Inject, args: [LocalData,] },] },\r\n        { type: undefined, decorators: [{ type: Inject, args: [RemoteData,] },] },\r\n    ]; };\r\n    return CompleterService;\r\n}());\r\nexport { CompleterService };\r\n//# sourceMappingURL=completer-service.js.map","\"use strict\";\r\nimport { ChangeDetectorRef, Component, Input, Output, EventEmitter, ViewChild, forwardRef, ElementRef } from \"@angular/core\";\r\nimport { FormControl, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\nimport { CtrCompleter } from \"../directives/ctr-completer\";\r\nimport { CompleterService } from \"../services/completer-service\";\r\nimport { MAX_CHARS, MIN_SEARCH_LENGTH, PAUSE, TEXT_SEARCHING, TEXT_NO_RESULTS, isNil } from \"../globals\";\r\nimport \"rxjs/add/operator/catch\";\r\nvar noop = function () { };\r\nvar ɵ0 = noop;\r\nvar COMPLETER_CONTROL_VALUE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(function () { return CompleterCmp; }),\r\n    multi: true\r\n};\r\nvar CompleterCmp = /** @class */ (function () {\r\n    function CompleterCmp(completerService, cdr) {\r\n        this.completerService = completerService;\r\n        this.cdr = cdr;\r\n        this.inputName = \"\";\r\n        this.inputId = \"\";\r\n        this.pause = PAUSE;\r\n        this.minSearchLength = MIN_SEARCH_LENGTH;\r\n        this.maxChars = MAX_CHARS;\r\n        this.overrideSuggested = false;\r\n        this.clearSelected = false;\r\n        this.clearUnselected = false;\r\n        this.fillHighlighted = true;\r\n        this.placeholder = \"\";\r\n        this.autoMatch = false;\r\n        this.disableInput = false;\r\n        this.autofocus = false;\r\n        this.openOnFocus = false;\r\n        this.openOnClick = false;\r\n        this.selectOnClick = false;\r\n        this.selectOnFocus = false;\r\n        this.autoHighlight = false;\r\n        this.label = '';\r\n        this.selected = new EventEmitter();\r\n        this.highlighted = new EventEmitter();\r\n        this.blurEvent = new EventEmitter();\r\n        this.click = new EventEmitter();\r\n        this.focusEvent = new EventEmitter();\r\n        this.opened = new EventEmitter();\r\n        this.keyup = new EventEmitter();\r\n        this.keydown = new EventEmitter();\r\n        this.control = new FormControl(\"\");\r\n        this.displaySearching = true;\r\n        this.displayNoResults = true;\r\n        this._textNoResults = TEXT_NO_RESULTS;\r\n        this._textSearching = TEXT_SEARCHING;\r\n        this._onTouchedCallback = noop;\r\n        this._onChangeCallback = noop;\r\n        this._focus = false;\r\n        this._open = false;\r\n        this._searchStr = \"\";\r\n    }\r\n    Object.defineProperty(CompleterCmp.prototype, \"value\", {\r\n        get: function () { return this.searchStr; },\r\n        set: function (v) {\r\n            if (v !== this.searchStr) {\r\n                this.searchStr = v;\r\n            }\r\n            // Propagate the change in any case\r\n            this._onChangeCallback(v);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(CompleterCmp.prototype, \"searchStr\", {\r\n        get: function () {\r\n            return this._searchStr;\r\n        },\r\n        set: function (value) {\r\n            if (typeof value === \"string\" || isNil(value)) {\r\n                this._searchStr = value;\r\n            }\r\n            else {\r\n                this._searchStr = JSON.stringify(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompleterCmp.prototype.ngAfterViewInit = function () {\r\n        if (this.autofocus) {\r\n            this._focus = true;\r\n        }\r\n    };\r\n    CompleterCmp.prototype.ngAfterViewChecked = function () {\r\n        var _this = this;\r\n        if (this._focus) {\r\n            setTimeout(function () {\r\n                _this.ctrInput.nativeElement.focus();\r\n                _this._focus = false;\r\n            }, 0);\r\n        }\r\n    };\r\n    CompleterCmp.prototype.onTouched = function () {\r\n        this._onTouchedCallback();\r\n    };\r\n    CompleterCmp.prototype.writeValue = function (value) {\r\n        this.searchStr = value;\r\n    };\r\n    CompleterCmp.prototype.registerOnChange = function (fn) {\r\n        this._onChangeCallback = fn;\r\n    };\r\n    CompleterCmp.prototype.registerOnTouched = function (fn) {\r\n        this._onTouchedCallback = fn;\r\n    };\r\n    CompleterCmp.prototype.setDisabledState = function (isDisabled) {\r\n        this.disableInput = isDisabled;\r\n    };\r\n    Object.defineProperty(CompleterCmp.prototype, \"datasource\", {\r\n        set: function (source) {\r\n            if (source) {\r\n                if (source instanceof Array) {\r\n                    this.dataService = this.completerService.local(source);\r\n                }\r\n                else if (typeof (source) === \"string\") {\r\n                    this.dataService = this.completerService.remote(source);\r\n                }\r\n                else {\r\n                    this.dataService = source;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompleterCmp.prototype, \"textNoResults\", {\r\n        set: function (text) {\r\n            if (this._textNoResults != text) {\r\n                this._textNoResults = text;\r\n                this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompleterCmp.prototype, \"textSearching\", {\r\n        set: function (text) {\r\n            if (this._textSearching != text) {\r\n                this._textSearching = text;\r\n                this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompleterCmp.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.completer.selected.subscribe(function (item) {\r\n            _this.selected.emit(item);\r\n        });\r\n        this.completer.highlighted.subscribe(function (item) {\r\n            _this.highlighted.emit(item);\r\n        });\r\n        this.completer.opened.subscribe(function (isOpen) {\r\n            _this._open = isOpen;\r\n            _this.opened.emit(isOpen);\r\n        });\r\n        this._searchStr = this.initialValue || '';\r\n    };\r\n    CompleterCmp.prototype.onBlur = function () {\r\n        this.blurEvent.emit();\r\n        this.onTouched();\r\n        this.cdr.detectChanges();\r\n    };\r\n    CompleterCmp.prototype.onFocus = function () {\r\n        this.focusEvent.emit();\r\n        this.onTouched();\r\n    };\r\n    CompleterCmp.prototype.onClick = function (event) {\r\n        this.click.emit(event);\r\n        this.onTouched();\r\n    };\r\n    CompleterCmp.prototype.onKeyup = function (event) {\r\n        this.keyup.emit(event);\r\n        event.stopPropagation();\r\n    };\r\n    CompleterCmp.prototype.onKeydown = function (event) {\r\n        this.keydown.emit(event);\r\n        event.stopPropagation();\r\n    };\r\n    CompleterCmp.prototype.onChange = function (value) {\r\n        this.value = value;\r\n    };\r\n    CompleterCmp.prototype.open = function () {\r\n        this.completer.open();\r\n    };\r\n    CompleterCmp.prototype.close = function () {\r\n        this.completer.clear();\r\n    };\r\n    CompleterCmp.prototype.focus = function () {\r\n        if (this.ctrInput) {\r\n            this.ctrInput.nativeElement.focus();\r\n        }\r\n        else {\r\n            this._focus = true;\r\n        }\r\n    };\r\n    CompleterCmp.prototype.blur = function () {\r\n        if (this.ctrInput) {\r\n            this.ctrInput.nativeElement.blur();\r\n        }\r\n        else {\r\n            this._focus = false;\r\n        }\r\n    };\r\n    CompleterCmp.prototype.isOpen = function () {\r\n        return this._open;\r\n    };\r\n    CompleterCmp.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: \"ng2-completer\",\r\n                    template: \"\\n        <div class=\\\"completer-holder form-group\\\" ctrCompleter>\\n            <label [attr.for]=\\\"inputId\\\">{{label}}</label>\\n            <input #ctrInput [attr.id]=\\\"inputId.length > 0 ? inputId : null\\\" type=\\\"text\\\" class=\\\"completer-input form-control\\\" ctrInput [ngClass]=\\\"inputClass\\\"\\n                [(ngModel)]=\\\"searchStr\\\" (ngModelChange)=\\\"onChange($event)\\\" [attr.name]=\\\"inputName\\\" [placeholder]=\\\"placeholder\\\"\\n                [attr.maxlength]=\\\"maxChars\\\" [tabindex]=\\\"fieldTabindex\\\" [disabled]=\\\"disableInput\\\"\\n                [clearSelected]=\\\"clearSelected\\\" [clearUnselected]=\\\"clearUnselected\\\"\\n                [overrideSuggested]=\\\"overrideSuggested\\\" [openOnFocus]=\\\"openOnFocus\\\" [fillHighlighted]=\\\"fillHighlighted\\\" \\n                [openOnClick]=\\\"openOnClick\\\" [selectOnClick]=\\\"selectOnClick\\\" [selectOnFocus]=\\\"selectOnFocus\\\"\\n                (blur)=\\\"onBlur()\\\" (focus)=\\\"onFocus()\\\" (keyup)=\\\"onKeyup($event)\\\" (keydown)=\\\"onKeydown($event)\\\" (click)=\\\"onClick($event)\\\"\\n                autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" required/>\\n            <div [hidden]=\\\"!(ctrInput.dirty && ctrInput.invalid)\\\">\\n                <small class=\\\"form-text text-danger\\\" jhiTranslate=\\\"entity.validation.required\\\">\\n                    This field is required.\\n                </small>\\n            </div>\\n            \\n\\n            <div class=\\\"completer-dropdown-holder\\\"\\n                *ctrList=\\\"dataService;\\n                    minSearchLength: minSearchLength;\\n                    pause: pause;\\n                    autoMatch: autoMatch;\\n                    initialValue: initialValue;\\n                    autoHighlight: autoHighlight;\\n                    displaySearching: displaySearching;\\n                    let items = results;\\n                    let searchActive = searching;\\n                    let isInitialized = searchInitialized;\\n                    let isOpen = isOpen;\\\">\\n                <div class=\\\"completer-dropdown\\\" ctrDropdown *ngIf=\\\"isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))\\\">\\n                    <div *ngIf=\\\"searchActive && displaySearching\\\" class=\\\"completer-searching\\\">{{_textSearching}}</div>\\n                    <div *ngIf=\\\"!searchActive && (!items || items?.length === 0)\\\" class=\\\"completer-no-results\\\">{{_textNoResults}}</div>\\n                    <div class=\\\"completer-row-wrapper\\\" *ngFor=\\\"let item of items; let rowIndex=index\\\">\\n                        <div class=\\\"completer-row\\\" [ctrRow]=\\\"rowIndex\\\" [dataItem]=\\\"item\\\">\\n                            <div *ngIf=\\\"item.image || item.image === ''\\\" class=\\\"completer-image-holder\\\">\\n                                <img *ngIf=\\\"item.image != ''\\\" src=\\\"{{item.image}}\\\" class=\\\"completer-image\\\" />\\n                                <div *ngIf=\\\"item.image === ''\\\" class=\\\"completer-image-default\\\"></div>\\n                            </div>\\n                            <div class=\\\"completer-item-text\\\" [ngClass]=\\\"{'completer-item-text-image': item.image || item.image === '' }\\\">\\n                                <completer-list-item class=\\\"completer-title\\\" [text]=\\\"item.title\\\" [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'title'\\\"></completer-list-item>\\n                                <completer-list-item *ngIf=\\\"item.description && item.description != ''\\\" class=\\\"completer-description\\\" [text]=\\\"item.description\\\"\\n                                    [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'description'\\\">\\n                                </completer-list-item>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\r\n                    styles: [\"\\n    .completer-dropdown {\\n        border-color: #ececec;\\n        border-width: 1px;\\n        border-style: solid;\\n        border-radius: 2px;\\n        width: 100%;\\n        padding: 6px;\\n        cursor: pointer;\\n        z-index: 9999;\\n        position: absolute;\\n        margin-top: -6px;\\n        background-color: #ffffff;\\n    }\\n\\n    .completer-row {\\n        padding: 5px;\\n        padding-right: 0.75rem;\\n        color: #000000;\\n        margin-bottom: 4px;\\n        clear: both;\\n        display: inline-block;\\n        width: 103%;\\n    }\\n\\n    .completer-selected-row {\\n        background-color: lightblue;\\n        color: #ffffff;\\n    }\\n\\n    .completer-description {\\n        font-size: 14px;\\n    }\\n\\n    .completer-image-default {\\n        width: 16px;\\n        height: 16px;\\n        background-image: url(\\\"demo/res/img/default.png\\\");\\n    }\\n\\n    .completer-image-holder {\\n        float: left;\\n        width: 10%;\\n    }\\n    .completer-item-text-image {\\n        float: right;\\n        width: 90%;\\n    }\\n    \"],\r\n                    providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CompleterCmp.ctorParameters = function () { return [\r\n        { type: CompleterService, },\r\n        { type: ChangeDetectorRef, },\r\n    ]; };\r\n    CompleterCmp.propDecorators = {\r\n        \"dataService\": [{ type: Input },],\r\n        \"inputName\": [{ type: Input },],\r\n        \"inputId\": [{ type: Input },],\r\n        \"pause\": [{ type: Input },],\r\n        \"minSearchLength\": [{ type: Input },],\r\n        \"maxChars\": [{ type: Input },],\r\n        \"overrideSuggested\": [{ type: Input },],\r\n        \"clearSelected\": [{ type: Input },],\r\n        \"clearUnselected\": [{ type: Input },],\r\n        \"fillHighlighted\": [{ type: Input },],\r\n        \"placeholder\": [{ type: Input },],\r\n        \"matchClass\": [{ type: Input },],\r\n        \"fieldTabindex\": [{ type: Input },],\r\n        \"autoMatch\": [{ type: Input },],\r\n        \"disableInput\": [{ type: Input },],\r\n        \"inputClass\": [{ type: Input },],\r\n        \"autofocus\": [{ type: Input },],\r\n        \"openOnFocus\": [{ type: Input },],\r\n        \"openOnClick\": [{ type: Input },],\r\n        \"selectOnClick\": [{ type: Input },],\r\n        \"selectOnFocus\": [{ type: Input },],\r\n        \"initialValue\": [{ type: Input },],\r\n        \"autoHighlight\": [{ type: Input },],\r\n        \"label\": [{ type: Input },],\r\n        \"selected\": [{ type: Output },],\r\n        \"highlighted\": [{ type: Output },],\r\n        \"blurEvent\": [{ type: Output, args: [\"blur\",] },],\r\n        \"click\": [{ type: Output },],\r\n        \"focusEvent\": [{ type: Output, args: [\"focus\",] },],\r\n        \"opened\": [{ type: Output },],\r\n        \"keyup\": [{ type: Output },],\r\n        \"keydown\": [{ type: Output },],\r\n        \"completer\": [{ type: ViewChild, args: [CtrCompleter,] },],\r\n        \"ctrInput\": [{ type: ViewChild, args: [\"ctrInput\",] },],\r\n        \"datasource\": [{ type: Input },],\r\n        \"textNoResults\": [{ type: Input },],\r\n        \"textSearching\": [{ type: Input },],\r\n    };\r\n    return CompleterCmp;\r\n}());\r\nexport { CompleterCmp };\r\nexport { ɵ0 };\r\n//# sourceMappingURL=completer-cmp.js.map","\"use strict\";\r\nimport { Component, Input } from \"@angular/core\";\r\nvar CompleterListItemCmp = /** @class */ (function () {\r\n    function CompleterListItemCmp() {\r\n        this.parts = [];\r\n    }\r\n    CompleterListItemCmp.prototype.ngOnInit = function () {\r\n        if (!this.searchStr) {\r\n            this.parts.push({ isMatch: false, text: this.text });\r\n            return;\r\n        }\r\n        var matchStr = this.text.toLowerCase();\r\n        var matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\r\n        var startIndex = 0;\r\n        while (matchPos >= 0) {\r\n            var matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\r\n            if (matchPos === 0) {\r\n                this.parts.push({ isMatch: true, text: matchText });\r\n                startIndex += this.searchStr.length;\r\n            }\r\n            else if (matchPos > 0) {\r\n                var matchPart = this.text.slice(startIndex, matchPos);\r\n                this.parts.push({ isMatch: false, text: matchPart });\r\n                this.parts.push({ isMatch: true, text: matchText });\r\n                startIndex += this.searchStr.length + matchPart.length;\r\n            }\r\n            matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\r\n        }\r\n        if (startIndex < this.text.length) {\r\n            this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\r\n        }\r\n    };\r\n    CompleterListItemCmp.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: \"completer-list-item\",\r\n                    template: \"<span class=\\\"completer-list-item-holder\\\" [ngClass]=\\\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\\\" >\\n        <span class=\\\"completer-list-item\\\" *ngFor=\\\"let part of parts\\\" [ngClass]=\\\"part.isMatch ? matchClass : null\\\">{{part.text}}</span>\\n    </span>\"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CompleterListItemCmp.ctorParameters = function () { return []; };\r\n    CompleterListItemCmp.propDecorators = {\r\n        \"text\": [{ type: Input },],\r\n        \"searchStr\": [{ type: Input },],\r\n        \"matchClass\": [{ type: Input },],\r\n        \"type\": [{ type: Input },],\r\n    };\r\n    return CompleterListItemCmp;\r\n}());\r\nexport { CompleterListItemCmp };\r\n//# sourceMappingURL=completer-list-item-cmp.js.map","import { Directive, ElementRef, Host, HostListener } from \"@angular/core\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { isNil } from \"../globals\";\r\nvar CtrRowItem = /** @class */ (function () {\r\n    function CtrRowItem(row, index) {\r\n        this.row = row;\r\n        this.index = index;\r\n    }\r\n    return CtrRowItem;\r\n}());\r\nexport { CtrRowItem };\r\nvar CtrDropdown = /** @class */ (function () {\r\n    function CtrDropdown(completer, el) {\r\n        this.completer = completer;\r\n        this.el = el;\r\n        this.rows = [];\r\n        this._rowMouseDown = false;\r\n        this.completer.registerDropdown(this);\r\n    }\r\n    CtrDropdown.prototype.ngOnDestroy = function () {\r\n        this.completer.registerDropdown(null);\r\n    };\r\n    CtrDropdown.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        var css = getComputedStyle(this.el.nativeElement);\r\n        var autoHighlightIndex = this.completer.autoHighlightIndex;\r\n        this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\r\n        if (autoHighlightIndex) {\r\n            setTimeout(function () {\r\n                _this.highlightRow(autoHighlightIndex);\r\n            }, 0);\r\n        }\r\n    };\r\n    CtrDropdown.prototype.onMouseDown = function (event) {\r\n        var _this = this;\r\n        // Support for canceling blur on IE (issue #158)\r\n        if (!this._rowMouseDown) {\r\n            this.completer.cancelBlur(true);\r\n            setTimeout(function () {\r\n                _this.completer.cancelBlur(false);\r\n            }, 0);\r\n        }\r\n        else {\r\n            this._rowMouseDown = false;\r\n        }\r\n    };\r\n    CtrDropdown.prototype.registerRow = function (row) {\r\n        var arrIndex = this.rows.findIndex(function (_row) { return _row.index === row.index; });\r\n        if (arrIndex >= 0) {\r\n            this.rows[arrIndex] = row;\r\n        }\r\n        else {\r\n            this.rows.push(row);\r\n        }\r\n    };\r\n    CtrDropdown.prototype.unregisterRow = function (rowIndex) {\r\n        var arrIndex = this.rows.findIndex(function (_row) { return _row.index === rowIndex; });\r\n        this.rows.splice(arrIndex, 1);\r\n        if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\r\n            this.highlightRow(null);\r\n        }\r\n    };\r\n    CtrDropdown.prototype.highlightRow = function (index) {\r\n        var highlighted = this.rows.find(function (row) { return row.index === index; });\r\n        if (isNil(index) || (index) < 0) {\r\n            if (this.currHighlighted) {\r\n                this.currHighlighted.row.setHighlighted(false);\r\n            }\r\n            this.currHighlighted = undefined;\r\n            this.completer.onHighlighted(null);\r\n            return;\r\n        }\r\n        if (!highlighted) {\r\n            return;\r\n        }\r\n        if (this.currHighlighted) {\r\n            this.currHighlighted.row.setHighlighted(false);\r\n        }\r\n        this.currHighlighted = highlighted;\r\n        this.currHighlighted.row.setHighlighted(true);\r\n        this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\r\n        if (this.isScrollOn && this.currHighlighted) {\r\n            var rowTop = this.dropdownRowTop();\r\n            if (!rowTop) {\r\n                return;\r\n            }\r\n            if (rowTop < 0) {\r\n                this.dropdownScrollTopTo(rowTop - 1);\r\n            }\r\n            else {\r\n                var row = this.currHighlighted.row.getNativeElement();\r\n                if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\r\n                    this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\r\n                    if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\r\n                        this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10)));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CtrDropdown.prototype.clear = function () {\r\n        this.rows = [];\r\n    };\r\n    CtrDropdown.prototype.onSelected = function (item) {\r\n        this.completer.onSelected(item);\r\n    };\r\n    CtrDropdown.prototype.rowMouseDown = function () {\r\n        this._rowMouseDown = true;\r\n    };\r\n    CtrDropdown.prototype.selectCurrent = function () {\r\n        if (this.currHighlighted) {\r\n            this.onSelected(this.currHighlighted.row.getDataItem());\r\n        }\r\n        else if (this.rows.length > 0) {\r\n            this.onSelected(this.rows[0].row.getDataItem());\r\n        }\r\n    };\r\n    CtrDropdown.prototype.nextRow = function () {\r\n        var nextRowIndex = 0;\r\n        if (this.currHighlighted) {\r\n            nextRowIndex = this.currHighlighted.index + 1;\r\n        }\r\n        this.highlightRow(nextRowIndex);\r\n    };\r\n    CtrDropdown.prototype.prevRow = function () {\r\n        var nextRowIndex = -1;\r\n        if (this.currHighlighted) {\r\n            nextRowIndex = this.currHighlighted.index - 1;\r\n        }\r\n        this.highlightRow(nextRowIndex);\r\n    };\r\n    CtrDropdown.prototype.dropdownScrollTopTo = function (offset) {\r\n        this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\r\n    };\r\n    CtrDropdown.prototype.dropdownRowTop = function () {\r\n        if (!this.currHighlighted) {\r\n            return;\r\n        }\r\n        return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\r\n            (this.el.nativeElement.getBoundingClientRect().top +\r\n                parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10));\r\n    };\r\n    CtrDropdown.prototype.dropdownHeight = function () {\r\n        return this.el.nativeElement.getBoundingClientRect().top +\r\n            parseInt(getComputedStyle(this.el.nativeElement).maxHeight, 10);\r\n    };\r\n    CtrDropdown.prototype.dropdownRowOffsetHeight = function (row) {\r\n        var css = getComputedStyle(row.parentElement);\r\n        return row.parentElement.offsetHeight +\r\n            parseInt(css.marginTop, 10) + parseInt(css.marginBottom, 10);\r\n    };\r\n    CtrDropdown.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrDropdown]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrDropdown.ctorParameters = function () { return [\r\n        { type: CtrCompleter, decorators: [{ type: Host },] },\r\n        { type: ElementRef, },\r\n    ]; };\r\n    CtrDropdown.propDecorators = {\r\n        \"onMouseDown\": [{ type: HostListener, args: [\"mousedown\", [\"$event\"],] },],\r\n    };\r\n    return CtrDropdown;\r\n}());\r\nexport { CtrDropdown };\r\n//# sourceMappingURL=ctr-dropdown.js.map","import { Directive, ElementRef, EventEmitter, Host, HostListener, Input, Output } from \"@angular/core\";\r\nimport { NgModel } from \"@angular/forms\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { isNil } from \"../globals\";\r\n// keyboard events\r\nvar KEY_DW = 40;\r\nvar KEY_RT = 39;\r\nvar KEY_UP = 38;\r\nvar KEY_LF = 37;\r\nvar KEY_ES = 27;\r\nvar KEY_EN = 13;\r\nvar KEY_TAB = 9;\r\nvar KEY_BK = 8;\r\nvar KEY_SH = 16;\r\nvar KEY_CL = 20;\r\nvar KEY_F1 = 112;\r\nvar KEY_F12 = 123;\r\nvar CtrInput = /** @class */ (function () {\r\n    function CtrInput(completer, ngModel, el) {\r\n        var _this = this;\r\n        this.completer = completer;\r\n        this.ngModel = ngModel;\r\n        this.el = el;\r\n        this.clearSelected = false;\r\n        this.clearUnselected = false;\r\n        this.overrideSuggested = false;\r\n        this.fillHighlighted = true;\r\n        this.openOnFocus = false;\r\n        this.openOnClick = false;\r\n        this.selectOnClick = false;\r\n        this.selectOnFocus = false;\r\n        this.ngModelChange = new EventEmitter();\r\n        this._searchStr = \"\";\r\n        this._displayStr = \"\";\r\n        this.blurTimer = null;\r\n        this.completer.selected.subscribe(function (item) {\r\n            if (!item) {\r\n                return;\r\n            }\r\n            if (_this.clearSelected) {\r\n                _this.searchStr = \"\";\r\n            }\r\n            else {\r\n                _this.searchStr = item.title;\r\n            }\r\n            _this.ngModelChange.emit(_this.searchStr);\r\n        });\r\n        this.completer.highlighted.subscribe(function (item) {\r\n            if (_this.fillHighlighted) {\r\n                if (item) {\r\n                    _this._displayStr = item.title;\r\n                    _this.ngModelChange.emit(item.title);\r\n                }\r\n                else {\r\n                    _this._displayStr = _this.searchStr;\r\n                    _this.ngModelChange.emit(_this.searchStr);\r\n                }\r\n            }\r\n        });\r\n        this.completer.dataSourceChange.subscribe(function () {\r\n            _this.searchStr = \"\";\r\n            _this.ngModelChange.emit(_this.searchStr);\r\n        });\r\n        if (this.ngModel.valueChanges) {\r\n            this.ngModel.valueChanges.subscribe(function (value) {\r\n                if (!isNil(value) && _this._displayStr !== value) {\r\n                    if (_this.searchStr !== value) {\r\n                        _this.completer.search(value);\r\n                    }\r\n                    _this.searchStr = value;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    CtrInput.prototype.keyupHandler = function (event) {\r\n        if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\r\n            // do nothing\r\n            return;\r\n        }\r\n        if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\r\n            event.preventDefault();\r\n        }\r\n        else if (event.keyCode === KEY_DW) {\r\n            event.preventDefault();\r\n            this.completer.search(this.searchStr);\r\n        }\r\n        else if (event.keyCode === KEY_ES) {\r\n            if (this.completer.isOpen) {\r\n                this.restoreSearchValue();\r\n                this.completer.clear();\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n    };\r\n    CtrInput.prototype.pasteHandler = function (event) {\r\n        this.completer.open();\r\n    };\r\n    CtrInput.prototype.keydownHandler = function (event) {\r\n        var keyCode = event.keyCode || event.which;\r\n        if (keyCode === KEY_EN) {\r\n            if (this.completer.hasHighlighted()) {\r\n                event.preventDefault();\r\n            }\r\n            this.handleSelection();\r\n        }\r\n        else if (keyCode === KEY_DW) {\r\n            event.preventDefault();\r\n            this.completer.open();\r\n            this.completer.nextRow();\r\n        }\r\n        else if (keyCode === KEY_UP) {\r\n            event.preventDefault();\r\n            this.completer.prevRow();\r\n        }\r\n        else if (keyCode === KEY_TAB) {\r\n            this.handleSelection();\r\n        }\r\n        else if (keyCode === KEY_BK) {\r\n            this.completer.open();\r\n        }\r\n        else if (keyCode === KEY_ES) {\r\n            // This is very specific to IE10/11 #272\r\n            // without this, IE clears the input text\r\n            event.preventDefault();\r\n            if (this.completer.isOpen) {\r\n                event.stopPropagation();\r\n            }\r\n        }\r\n        else {\r\n            if (keyCode !== 0 && keyCode !== KEY_SH && keyCode !== KEY_CL &&\r\n                (keyCode <= KEY_F1 || keyCode >= KEY_F12) &&\r\n                !event.ctrlKey && !event.metaKey && !event.altKey) {\r\n                this.completer.open();\r\n            }\r\n        }\r\n    };\r\n    CtrInput.prototype.onBlur = function (event) {\r\n        var _this = this;\r\n        // Check if we need to cancel Blur for IE\r\n        if (this.completer.isCancelBlur()) {\r\n            setTimeout(function () {\r\n                // get the focus back\r\n                // get the focus back\r\n                _this.el.nativeElement.focus();\r\n            }, 0);\r\n            return;\r\n        }\r\n        if (this.completer.isOpen) {\r\n            this.blurTimer = Observable.timer(200).subscribe(function () { return _this.doBlur(); });\r\n        }\r\n    };\r\n    CtrInput.prototype.onfocus = function () {\r\n        if (this.blurTimer) {\r\n            this.blurTimer.unsubscribe();\r\n            this.blurTimer = null;\r\n        }\r\n        if (this.selectOnFocus) {\r\n            this.el.nativeElement.select();\r\n        }\r\n        if (this.openOnFocus) {\r\n            this.completer.open();\r\n        }\r\n    };\r\n    CtrInput.prototype.onClick = function (event) {\r\n        if (this.selectOnClick) {\r\n            this.el.nativeElement.select();\r\n        }\r\n        if (this.openOnClick) {\r\n            if (this.completer.isOpen) {\r\n                this.completer.clear();\r\n            }\r\n            else {\r\n                this.completer.open();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(CtrInput.prototype, \"searchStr\", {\r\n        get: function () {\r\n            return this._searchStr;\r\n        },\r\n        set: function (term) {\r\n            this._searchStr = term;\r\n            this._displayStr = term;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrInput.prototype.handleSelection = function () {\r\n        if (this.completer.hasHighlighted()) {\r\n            this._searchStr = \"\";\r\n            this.completer.selectCurrent();\r\n        }\r\n        else if (this.overrideSuggested) {\r\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n        }\r\n        else {\r\n            if (this.clearUnselected) {\r\n                this.searchStr = \"\";\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n            this.completer.clear();\r\n        }\r\n    };\r\n    CtrInput.prototype.restoreSearchValue = function () {\r\n        if (this.fillHighlighted) {\r\n            if (this._displayStr != this.searchStr) {\r\n                this._displayStr = this.searchStr;\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n        }\r\n    };\r\n    CtrInput.prototype.doBlur = function () {\r\n        if (this.blurTimer) {\r\n            this.blurTimer.unsubscribe();\r\n            this.blurTimer = null;\r\n        }\r\n        if (this.overrideSuggested) {\r\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n        }\r\n        else {\r\n            if (this.clearUnselected && !this.completer.hasSelected) {\r\n                this.searchStr = \"\";\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n            else {\r\n                this.restoreSearchValue();\r\n            }\r\n        }\r\n        this.completer.clear();\r\n    };\r\n    CtrInput.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrInput]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrInput.ctorParameters = function () { return [\r\n        { type: CtrCompleter, decorators: [{ type: Host },] },\r\n        { type: NgModel, },\r\n        { type: ElementRef, },\r\n    ]; };\r\n    CtrInput.propDecorators = {\r\n        \"clearSelected\": [{ type: Input, args: [\"clearSelected\",] },],\r\n        \"clearUnselected\": [{ type: Input, args: [\"clearUnselected\",] },],\r\n        \"overrideSuggested\": [{ type: Input, args: [\"overrideSuggested\",] },],\r\n        \"fillHighlighted\": [{ type: Input, args: [\"fillHighlighted\",] },],\r\n        \"openOnFocus\": [{ type: Input, args: [\"openOnFocus\",] },],\r\n        \"openOnClick\": [{ type: Input, args: [\"openOnClick\",] },],\r\n        \"selectOnClick\": [{ type: Input, args: [\"selectOnClick\",] },],\r\n        \"selectOnFocus\": [{ type: Input, args: [\"selectOnFocus\",] },],\r\n        \"ngModelChange\": [{ type: Output },],\r\n        \"keyupHandler\": [{ type: HostListener, args: [\"keyup\", [\"$event\"],] },],\r\n        \"pasteHandler\": [{ type: HostListener, args: [\"paste\", [\"$event\"],] },],\r\n        \"keydownHandler\": [{ type: HostListener, args: [\"keydown\", [\"$event\"],] },],\r\n        \"onBlur\": [{ type: HostListener, args: [\"blur\", [\"$event\"],] },],\r\n        \"onfocus\": [{ type: HostListener, args: [\"focus\", [],] },],\r\n        \"onClick\": [{ type: HostListener, args: [\"click\", [\"$event\"],] },],\r\n    };\r\n    return CtrInput;\r\n}());\r\nexport { CtrInput };\r\n//# sourceMappingURL=ctr-input.js.map","import \"rxjs/add/observable/timer\";\r\nimport { ChangeDetectorRef, Directive, Host, Input, TemplateRef, ViewContainerRef } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/retryWhen\";\r\nimport \"rxjs/add/operator/do\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { MIN_SEARCH_LENGTH, PAUSE, CLEAR_TIMEOUT, isNil } from \"../globals\";\r\nvar CtrListContext = /** @class */ (function () {\r\n    function CtrListContext(results, searching, searchInitialized, isOpen) {\r\n        this.results = results;\r\n        this.searching = searching;\r\n        this.searchInitialized = searchInitialized;\r\n        this.isOpen = isOpen;\r\n    }\r\n    return CtrListContext;\r\n}());\r\nexport { CtrListContext };\r\nvar CtrList = /** @class */ (function () {\r\n    function CtrList(completer, templateRef, viewContainer, cd) {\r\n        this.completer = completer;\r\n        this.templateRef = templateRef;\r\n        this.viewContainer = viewContainer;\r\n        this.cd = cd;\r\n        this.ctrListMinSearchLength = MIN_SEARCH_LENGTH;\r\n        this.ctrListPause = PAUSE;\r\n        this.ctrListAutoMatch = false;\r\n        this.ctrListAutoHighlight = false;\r\n        this.ctrListDisplaySearching = true;\r\n        // private results: CompleterItem[] = [];\r\n        this.term = null;\r\n        // private searching = false;\r\n        this.searchTimer = null;\r\n        this.clearTimer = null;\r\n        this.ctx = new CtrListContext([], false, false, false);\r\n        this._initialValue = null;\r\n        this.viewRef = null;\r\n    }\r\n    CtrList.prototype.ngOnInit = function () {\r\n        this.completer.registerList(this);\r\n        this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, new CtrListContext([], false, false, false));\r\n    };\r\n    Object.defineProperty(CtrList.prototype, \"dataService\", {\r\n        set: function (newService) {\r\n            this._dataService = newService;\r\n            this.dataServiceSubscribe();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrList.prototype, \"initialValue\", {\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (this._dataService && typeof this._dataService.convertToItem === \"function\") {\r\n                setTimeout(function () {\r\n                    var initialItem = _this._dataService.convertToItem(value);\r\n                    if (initialItem) {\r\n                        _this.completer.onSelected(initialItem, false);\r\n                    }\r\n                });\r\n            }\r\n            else if (!this._dataService) {\r\n                this._initialValue = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrList.prototype.search = function (term) {\r\n        var _this = this;\r\n        if (!isNil(term) && term.length >= this.ctrListMinSearchLength && this.term !== term) {\r\n            if (this.searchTimer) {\r\n                this.searchTimer.unsubscribe();\r\n                this.searchTimer = null;\r\n            }\r\n            if (!this.ctx.searching) {\r\n                if (this.ctrListDisplaySearching) {\r\n                    this.ctx.results = [];\r\n                }\r\n                this.ctx.searching = true;\r\n                this.ctx.searchInitialized = true;\r\n                this.refreshTemplate();\r\n            }\r\n            if (this.clearTimer) {\r\n                this.clearTimer.unsubscribe();\r\n            }\r\n            this.searchTimer = Observable.timer(this.ctrListPause).subscribe(function () {\r\n                _this.searchTimerComplete(term);\r\n            });\r\n        }\r\n        else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\r\n            this.clear();\r\n            this.term = \"\";\r\n        }\r\n    };\r\n    CtrList.prototype.clear = function () {\r\n        var _this = this;\r\n        if (this.searchTimer) {\r\n            this.searchTimer.unsubscribe();\r\n        }\r\n        this.clearTimer = Observable.timer(CLEAR_TIMEOUT).subscribe(function () {\r\n            _this._clear();\r\n        });\r\n    };\r\n    CtrList.prototype.open = function () {\r\n        if (!this.ctx.searchInitialized) {\r\n            this.search(\"\");\r\n        }\r\n        this.refreshTemplate();\r\n    };\r\n    CtrList.prototype.isOpen = function (open) {\r\n        this.ctx.isOpen = open;\r\n    };\r\n    CtrList.prototype._clear = function () {\r\n        if (this.searchTimer) {\r\n            this.searchTimer.unsubscribe();\r\n            this.searchTimer = null;\r\n        }\r\n        if (this.dataService) {\r\n            this.dataService.cancel();\r\n        }\r\n        this.viewContainer.clear();\r\n        this.viewRef = null;\r\n    };\r\n    CtrList.prototype.searchTimerComplete = function (term) {\r\n        // Begin the search\r\n        if (isNil(term) || term.length < this.ctrListMinSearchLength) {\r\n            this.ctx.searching = false;\r\n            return;\r\n        }\r\n        this.term = term;\r\n        this._dataService.search(term);\r\n    };\r\n    CtrList.prototype.refreshTemplate = function () {\r\n        // create the template if it doesn't exist\r\n        if (!this.viewRef) {\r\n            this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, this.ctx);\r\n        }\r\n        else if (!this.viewRef.destroyed) {\r\n            // refresh the template\r\n            // refresh the template\r\n            this.viewRef.context.isOpen = this.ctx.isOpen;\r\n            this.viewRef.context.results = this.ctx.results;\r\n            this.viewRef.context.searching = this.ctx.searching;\r\n            this.viewRef.context.searchInitialized = this.ctx.searchInitialized;\r\n            this.viewRef.detectChanges();\r\n        }\r\n        this.cd.markForCheck();\r\n    };\r\n    CtrList.prototype.getBestMatchIndex = function () {\r\n        var _this = this;\r\n        if (!this.ctx.results || !this.term) {\r\n            return null;\r\n        }\r\n        // First try to find the exact term\r\n        var bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase() === _this.term.toLocaleLowerCase(); });\r\n        // If not try to find the first item that starts with the term\r\n        if (bestMatch < 0) {\r\n            bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().startsWith(_this.term.toLocaleLowerCase()); });\r\n        }\r\n        // If not try to find the first item that includes the term\r\n        if (bestMatch < 0) {\r\n            bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().includes(_this.term.toLocaleLowerCase()); });\r\n        }\r\n        return bestMatch < 0 ? null : bestMatch;\r\n    };\r\n    CtrList.prototype.dataServiceSubscribe = function () {\r\n        var _this = this;\r\n        if (this._dataService) {\r\n            this._dataService\r\n                .catch(function (err) {\r\n                console.error(err);\r\n                console.error(\"Unexpected error in dataService: errors should be handled by the dataService Observable\");\r\n                return [];\r\n            })\r\n                .subscribe(function (results) {\r\n                _this.ctx.searchInitialized = true;\r\n                _this.ctx.searching = false;\r\n                _this.ctx.results = results;\r\n                if (_this.ctrListAutoMatch && results && results.length === 1 && results[0].title && !isNil(_this.term) &&\r\n                    results[0].title.toLocaleLowerCase() === _this.term.toLocaleLowerCase()) {\r\n                    // Do automatch\r\n                    // Do automatch\r\n                    _this.completer.onSelected(results[0]);\r\n                    return;\r\n                }\r\n                if (_this._initialValue) {\r\n                    _this.initialValue = _this._initialValue;\r\n                    _this._initialValue = null;\r\n                }\r\n                _this.refreshTemplate();\r\n                if (_this.ctrListAutoHighlight) {\r\n                    _this.completer.autoHighlightIndex = _this.getBestMatchIndex();\r\n                }\r\n            });\r\n            if (this._dataService.dataSourceChange) {\r\n                this._dataService.dataSourceChange.subscribe(function () {\r\n                    _this.term = null;\r\n                    _this.ctx.searchInitialized = false;\r\n                    _this.ctx.searching = false;\r\n                    _this.ctx.results = [];\r\n                    _this.refreshTemplate();\r\n                    _this.completer.onDataSourceChange();\r\n                });\r\n            }\r\n        }\r\n    };\r\n    CtrList.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrList]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrList.ctorParameters = function () { return [\r\n        { type: CtrCompleter, decorators: [{ type: Host },] },\r\n        { type: TemplateRef, },\r\n        { type: ViewContainerRef, },\r\n        { type: ChangeDetectorRef, },\r\n    ]; };\r\n    CtrList.propDecorators = {\r\n        \"ctrListMinSearchLength\": [{ type: Input },],\r\n        \"ctrListPause\": [{ type: Input },],\r\n        \"ctrListAutoMatch\": [{ type: Input },],\r\n        \"ctrListAutoHighlight\": [{ type: Input },],\r\n        \"ctrListDisplaySearching\": [{ type: Input },],\r\n        \"dataService\": [{ type: Input, args: [\"ctrList\",] },],\r\n        \"initialValue\": [{ type: Input, args: [\"ctrListInitialValue\",] },],\r\n    };\r\n    return CtrList;\r\n}());\r\nexport { CtrList };\r\n//# sourceMappingURL=ctr-list.js.map","import { Directive, ElementRef, Host, HostListener, Input, Renderer } from \"@angular/core\";\r\nimport { CtrDropdown, CtrRowItem } from \"./ctr-dropdown\";\r\nvar CtrRow = /** @class */ (function () {\r\n    function CtrRow(el, renderer, dropdown) {\r\n        this.el = el;\r\n        this.renderer = renderer;\r\n        this.dropdown = dropdown;\r\n        this.selected = false;\r\n    }\r\n    CtrRow.prototype.ngOnDestroy = function () {\r\n        if (this._rowIndex) {\r\n            this.dropdown.unregisterRow(this._rowIndex);\r\n        }\r\n    };\r\n    Object.defineProperty(CtrRow.prototype, \"ctrRow\", {\r\n        set: function (index) {\r\n            this._rowIndex = index;\r\n            this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrRow.prototype, \"dataItem\", {\r\n        set: function (item) {\r\n            this._item = item;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrRow.prototype.onClick = function (event) {\r\n        this.dropdown.onSelected(this._item);\r\n    };\r\n    CtrRow.prototype.onMouseEnter = function (event) {\r\n        this.dropdown.highlightRow(this._rowIndex);\r\n    };\r\n    CtrRow.prototype.onMouseDown = function (event) {\r\n        this.dropdown.rowMouseDown();\r\n    };\r\n    CtrRow.prototype.setHighlighted = function (selected) {\r\n        this.selected = selected;\r\n        this.renderer.setElementClass(this.el.nativeElement, \"completer-selected-row\", this.selected);\r\n    };\r\n    CtrRow.prototype.getNativeElement = function () {\r\n        return this.el.nativeElement;\r\n    };\r\n    CtrRow.prototype.getDataItem = function () {\r\n        return this._item;\r\n    };\r\n    CtrRow.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrRow]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrRow.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: Renderer, },\r\n        { type: CtrDropdown, decorators: [{ type: Host },] },\r\n    ]; };\r\n    CtrRow.propDecorators = {\r\n        \"ctrRow\": [{ type: Input },],\r\n        \"dataItem\": [{ type: Input },],\r\n        \"onClick\": [{ type: HostListener, args: [\"click\", [\"$event\"],] },],\r\n        \"onMouseEnter\": [{ type: HostListener, args: [\"mouseenter\", [\"$event\"],] },],\r\n        \"onMouseDown\": [{ type: HostListener, args: [\"mousedown\", [\"$event\"],] },],\r\n    };\r\n    return CtrRow;\r\n}());\r\nexport { CtrRow };\r\n//# sourceMappingURL=ctr-row.js.map","import { NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { HttpModule } from \"@angular/http\";\r\nimport { CompleterCmp } from \"./components/completer-cmp\";\r\nimport { CompleterListItemCmp } from \"./components/completer-list-item-cmp\";\r\nimport { CompleterService } from \"./services/completer-service\";\r\nimport { LocalDataFactoryProvider, RemoteDataFactoryProvider } from \"./services/completer-data-factory\";\r\nimport { CtrCompleter } from \"./directives/ctr-completer\";\r\nimport { CtrDropdown } from \"./directives/ctr-dropdown\";\r\nimport { CtrInput } from \"./directives/ctr-input\";\r\nimport { CtrList } from \"./directives/ctr-list\";\r\nimport { CtrRow } from \"./directives/ctr-row\";\r\nimport { CommonModule } from \"@angular/common\";\r\nvar Ng2CompleterModule = /** @class */ (function () {\r\n    function Ng2CompleterModule() {\r\n    }\r\n    Ng2CompleterModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        HttpModule\r\n                    ],\r\n                    declarations: [\r\n                        CompleterListItemCmp,\r\n                        CtrCompleter,\r\n                        CtrDropdown,\r\n                        CtrInput,\r\n                        CtrList,\r\n                        CtrRow,\r\n                        CompleterCmp\r\n                    ],\r\n                    exports: [\r\n                        CompleterCmp,\r\n                        CompleterListItemCmp,\r\n                        CtrCompleter,\r\n                        CtrDropdown,\r\n                        CtrInput,\r\n                        CtrList,\r\n                        CtrRow\r\n                    ],\r\n                    providers: [\r\n                        CompleterService,\r\n                        LocalDataFactoryProvider,\r\n                        RemoteDataFactoryProvider\r\n                    ]\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    Ng2CompleterModule.ctorParameters = function () { return []; };\r\n    return Ng2CompleterModule;\r\n}());\r\nexport { Ng2CompleterModule };\r\n//# sourceMappingURL=ng2-completer.module.js.map"],"names":["isNil","value","localDataFactory","LocalData","remoteDataFactory","http","RemoteData","CtrCompleter","this","selected","EventEmitter","highlighted","opened","dataSourceChange","_hasHighlighted","_hasSelected","_cancelBlur","_isOpen","prototype","registerList","list","registerDropdown","dropdown","onHighlighted","item","emit","onSelected","clearList","clear","onDataSourceChange","hasSelected","search","term","isOpen","selectCurrent","nextRow","prevRow","hasHighlighted","cancelBlur","cancel","isCancelBlur","open","Object","defineProperty","get","set","enumerable","configurable","_autoHighlightIndex","index","highlightRow","decorators","type","Directive","args","selector","ctorParameters","propDecorators","Output","MAX_CHARS","MIN_SEARCH_LENGTH","PAUSE","TEXT_SEARCHING","TEXT_NO_RESULTS","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","create","CompleterBaseData","_super","call","searchFields","_searchFields","titleField","_titleField","descriptionField","_descriptionField","imageField","_imageField","convertToItem","data","formattedText","image","formattedDesc","extractTitle","JSON","stringify","extractValue","title","description","originalObject","extractMatches","_this","split","undefined","filter","map","searchField","some","toString","toLowerCase","indexOf","field","reduce","acc","titlePart","obj","key","keys","result","i","length","processResults","matches","results","push","Subject","Observable","catch","subscribe","res","_data","savedTerm","next","Injectable","_urlFormater","_dataField","remoteUrl","_remoteUrl","urlFormater","dataField","headers","_headers","requestOptions","_requestOptions","url","encodeURIComponent","RequestOptions","Headers","remoteSearch","merge","json","unsubscribe","CompleterService","local","remote","Inject","noop","COMPLETER_CONTROL_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CompleterCmp","multi","completerService","cdr","inputName","inputId","pause","minSearchLength","maxChars","overrideSuggested","clearSelected","clearUnselected","fillHighlighted","placeholder","autoMatch","disableInput","autofocus","openOnFocus","openOnClick","selectOnClick","selectOnFocus","autoHighlight","label","blurEvent","click","focusEvent","keyup","keydown","control","FormControl","displaySearching","displayNoResults","_textNoResults","_textSearching","_onTouchedCallback","_onChangeCallback","_focus","_open","_searchStr","searchStr","v","ngAfterViewInit","ngAfterViewChecked","setTimeout","ctrInput","nativeElement","focus","onTouched","writeValue","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","source","dataService","text","ngOnInit","completer","initialValue","onBlur","detectChanges","onFocus","onClick","event","onKeyup","stopPropagation","onKeydown","onChange","close","blur","Component","template","styles","providers","ChangeDetectorRef","Input","matchClass","fieldTabindex","inputClass","ViewChild","datasource","textNoResults","textSearching","CompleterListItemCmp","parts","isMatch","matchStr","matchPos","startIndex","matchText","slice","matchPart","LocalDataFactoryProvider","useFactory","RemoteDataFactoryProvider","deps","Http","CtrRowItem","row","CtrDropdown","el","rows","_rowMouseDown","ngOnDestroy","css","getComputedStyle","autoHighlightIndex","isScrollOn","maxHeight","overflowY","onMouseDown","registerRow","arrIndex","findIndex","_row","unregisterRow","rowIndex","splice","currHighlighted","find","setHighlighted","getDataItem","rowTop","dropdownRowTop","dropdownScrollTopTo","getNativeElement","dropdownHeight","getBoundingClientRect","bottom","dropdownRowOffsetHeight","top","parseInt","paddingTop","rowMouseDown","nextRowIndex","offset","scrollTop","parentElement","offsetHeight","marginTop","marginBottom","Host","ElementRef","HostListener","CtrInput","ngModel","ngModelChange","_displayStr","blurTimer","valueChanges","keyupHandler","keyCode","preventDefault","restoreSearchValue","pasteHandler","keydownHandler","which","handleSelection","ctrlKey","metaKey","altKey","timer","doBlur","onfocus","select","NgModel","CtrListContext","searching","searchInitialized","CtrList","templateRef","viewContainer","cd","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListAutoHighlight","ctrListDisplaySearching","searchTimer","clearTimer","ctx","_initialValue","viewRef","createEmbeddedView","newService","_dataService","dataServiceSubscribe","initialItem","refreshTemplate","searchTimerComplete","_clear","destroyed","context","markForCheck","getBestMatchIndex","bestMatch","toLocaleLowerCase","startsWith","includes","err","console","error","TemplateRef","ViewContainerRef","CtrRow","renderer","_rowIndex","_item","onMouseEnter","setElementClass","Renderer","ctrRow","dataItem","Ng2CompleterModule","NgModule","imports","CommonModule","FormsModule","HttpModule","declarations","exports"],"mappings":"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"}